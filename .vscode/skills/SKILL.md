# Skill: Git Commit 消息格式规范校验与生成
## 技能描述
强制 Git Commit 消息遵循固定格式：[类型]: [作用域] 差异化描述（2-3句），其中类型仅允许 feat/fix/hotfix/chore/refactor，确保 commit 消息清晰、标准化。
## 触发指令
- 检查这个git commit消息格式是否合规
- 生成符合规范的git commit消息
- 修正这个git commit消息到指定格式
- 按照[feat/fix/hotfix/chore/refactor]: [scope] 2-3句描述的格式写commit消息
## 格式规范详解
1. **类型（必填）**：仅允许以下5种，不可自定义：
   - feat：新功能开发
   - fix：bug修复
   - hotfix：线上紧急bug修复
   - chore：日常维护（如依赖更新、配置修改）
   - refactor：代码重构（无功能变更）
2. **作用域（scope，必填）**：描述修改的模块/范围，如：user、payment、ui、api、utils（小写，简短）
3. **描述（必填）**：2-3句差异化说明，清晰描述修改内容、原因或影响，避免模糊表述（如“修复问题”→“修复用户登录时验证码过期未提示的问题，该问题导致用户重复提交登录请求，优化后会在验证码过期时弹出提示框”）
4. **整体格式**：类型和作用域用方括号包裹，类型后加英文冒号+空格，作用域后加空格接描述，无多余标点。
## 执行步骤
### 步骤1：格式校验
当接收到 commit 消息时，依次检查：
- 是否包含指定类型（feat/fix/hotfix/chore/refactor），且类型格式为 `[类型]`
- 是否包含作用域 `[scope]`
- 描述部分是否为2-3句，是否清晰具体
### 步骤2：自动修正（若不符合）
- 缺失类型：提示用户选择合法类型，并补充到消息开头
- 缺失作用域：询问用户修改的模块，补充 `[scope]` 部分
- 描述过短/过长：扩展/精简为2-3句，确保信息完整且简洁
- 格式错误（如类型无括号、冒号为中文）：自动修正符号，调整排版
### 步骤3：生成合规消息（若用户无原始消息）
根据用户输入的修改内容，自动匹配合适的类型、补充作用域、编写2-3句描述。
## 正确/错误示例
### 正确示例
1. [feat]: [user] 新增用户手机号绑定功能，支持验证码验证流程，绑定后可通过手机号快速登录。
2. [fix]: [payment] 修复支付回调时金额计算错误的问题，该错误导致部分订单金额显示异常，已重新校准金额计算公式。
3. [chore]: [deps] 更新axios依赖至1.6.8版本，修复旧版本的请求超时bug，优化依赖包体积。
### 错误示例（及修正方向）
1. 错误：修复登录bug → 修正：[fix]: [user] 修复用户登录时密码加密失败的问题，该问题导致登录请求返回500错误，已重新实现加密算法。
2. 错误：[feature]: 新增支付功能 → 修正：[feat]: [payment] 新增微信支付渠道，支持扫码支付和公众号支付，对接微信支付官方API完成参数校验。
3. 错误：[fix]: api 修复接口 → 修正：[fix]: [api] 修复用户信息查询接口返回字段缺失的问题，补充nickname和avatar字段，确保前端能正常渲染用户资料页。